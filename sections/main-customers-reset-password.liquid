<section>
  <div class="container">
    <div class="page-header">
      <div class="page-header__text-wrapper text-container">
        <h1 class="heading h2">{{ 'customer.reset_password.title' | t }}</h1>
        <p>{{ 'customer.reset_password.instructions' | t }}</p>
      </div>
    </div>

    <div class="page-content page-content--small">
      {%- form 'reset_customer_password', name: 'reset', class: 'form', id: 'reset-customer-password' -%}
        {%- if form.errors -%}
          <div class="banner banner--error form__banner" id="login-form-error">
            <span class="banner__ribbon">{% render 'icon' with 'form-error' %}</span>
            <div class="banner__content">{{ form.errors | default_errors }}</div>
          </div>
        {%- endif -%}

<div class="input" style="position: relative;">
  <input type="password" id="new-password" class="input__field" name="customer[password]" required="required" autocomplete="new-password">
  <label for="new-password" class="input__label">{{ 'customer.reset_password.password' | t }}</label>
  <button type="button" class="toggle-password" onclick="togglePasswordVisibility('new-password', 'show-new-password', 'hide-new-password')" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); border: none; background: none; cursor: pointer;">
    <i class="fas fa-eye" id="show-new-password" style="display:block;"></i>
    <i class="fas fa-eye-slash" id="hide-new-password" style="display:none;"></i>
  </button>
</div>

<div class="input" style="position: relative;">
  <input type="password" id="confirm-password" class="input__field" name="customer[password_confirmation]" required="required" autocomplete="new-password">
  <label for="confirm-password" class="input__label">{{ 'customer.reset_password.password_confirmation' | t }}</label>
  <button type="button" class="toggle-password" onclick="togglePasswordVisibility('confirm-password', 'show-confirm-password', 'hide-confirm-password')" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); border: none; background: none; cursor: pointer;">
    <i class="fas fa-eye" id="show-confirm-password" style="display:block;"></i>
    <i class="fas fa-eye-slash" id="hide-confirm-password" style="display:none;"></i>
  </button>
</div>
<script>
function togglePasswordVisibility(inputId, showIconId, hideIconId) {
  var passwordInput = document.getElementById(inputId);
  var showPasswordIcon = document.getElementById(showIconId);
  var hidePasswordIcon = document.getElementById(hideIconId);

  if (passwordInput.type === "password") {
    passwordInput.type = "text";
    showPasswordIcon.style.display = "none";
    hidePasswordIcon.style.display = "block";
  } else {
    passwordInput.type = "password";
    showPasswordIcon.style.display = "block";
    hidePasswordIcon.style.display = "none";
  }
}
</script>


        <button type="submit" class="form__submit button button--primary button--full">{{ 'customer.reset_password.submit' | t }}</button>
      {%- endform -%}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Customer reset password",
  "class": "shopify-section--main-customers-reset-password"
}
{% endschema %}