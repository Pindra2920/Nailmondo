<script>

    let edFeaturedAddToCartButtonText;
    let edFeaturedAddToCartButtonClicked = false;

    document.querySelector('.product--featured #AddToCart').onclick = function() {
        edFeaturedAddToCartButtonClicked = true;
    };


    document.addEventListener('variant:added', function() {

        edFeaturedAddToCartButtonText = document.querySelector('.product--featured #AddToCart .loader-button__text');

        if (edFeaturedAddToCartButtonText && edFeaturedAddToCartButtonClicked) {
            changeFeaturedAtcButtonText();
        }

        edFeaturedAddToCartButtonClicked = false;
        setTimeout(resetFeaturedAtcButtonText, 3500);
    });

    function changeFeaturedAtcButtonText() {
        edFeaturedAddToCartButtonText.innerText = '{{ "product.form.add_to_cart_successful" | t }}';
    }

    function resetFeaturedAtcButtonText() {
        edFeaturedAddToCartButtonText = document.querySelector('.product--featured #AddToCart:not([disabled]) .loader-button__text');

        if (edFeaturedAddToCartButtonText) {
            edFeaturedAddToCartButtonText.innerText = '{{ "product.form.add_to_cart" | t }}';
        }
    }

</script>