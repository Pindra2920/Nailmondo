<script>

    let edAddToCartButtonText;
    let edStickyAddToCartButtonText;
    let edMainAddToCartButtonClicked = false;

    document.querySelector('.ed-product #AddToCart').onclick = function() {
        edMainAddToCartButtonClicked = true;
    };

    document.querySelector('#StickyAddToCart').onclick = function() {
        edMainAddToCartButtonClicked = true;
    };

    document.addEventListener('variant:added', function() {

        edAddToCartButtonText = document.querySelector('.ed-product #AddToCart:not([disabled]) .loader-button__text');
        edStickyAddToCartButtonText = document.querySelector('#StickyAddToCart:not([disabled])  .loader-button__text');

        if (edAddToCartButtonText && edMainAddToCartButtonClicked) {
            changeAtcButtonText();
        }
        edMainAddToCartButtonClicked = false;
        setTimeout(resetAtcButtonText, 3500);
    });

    function changeAtcButtonText() {
        edAddToCartButtonText.innerText = '{{ "product.form.add_to_cart_successful" | t }}';

        if (edStickyAddToCartButtonText) {
            edStickyAddToCartButtonText.innerText = '{{ "product.form.add_to_cart_successful" | t }}';
        }
    }

    function resetAtcButtonText() {
        edAddToCartButtonText = document.querySelector('.ed-product #AddToCart:not([disabled]) .loader-button__text');

        if (edAddToCartButtonText) {
            edAddToCartButtonText.innerText = '{{ "product.form.add_to_cart" | t }}';
        }

        edStickyAddToCartButtonText = document.querySelector('#StickyAddToCart:not([disabled])  .loader-button__text');
        if (edStickyAddToCartButtonText) {
            edStickyAddToCartButtonText.innerText = '{{ "product.form.add_to_cart" | t }}';
        }
    }

</script>